{% extends 'webapp/base.html' %}

{% block title %}
<title>Results</title>
{% endblock title %}

{% block body %}

<h1>Results</h1>

<div id='map' style='width: 80%; height: 300px;'></div>
<script>
  mapboxgl.accessToken = '{{ mapbox_access_token }}';
  var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11',
    center: [-103.771556, 44.967243],
    zoom: 3,
  });
</script>

<div class="col-lg-12">
  <div class="table-responsve">
    <table class="table table-striped table-hover">
      <thead class="thead-inverse">
        <tr>
          <th class="w-25"></th>
          {% for city in cities %}
          <th class="">{{ city.name }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="w-25 option">State</td>
          {% for city in cities %}
          <td class="">{{ city.state }}</td>
          {% endfor %}
        </tr>
        <tr>
          <td class="option">Population</td>
          {% for city in cities %}
          <td class="">{{ city.population }}</td>
          {% endfor %}
        </tr>
      </tbody>
      <tfoot class="thead-inverse">
        <tr>
          <th class="w-25"></th>
          {% for _ in cities %}
          <th class=""><button class="btn btn-primary">Like</button></th>
          {% endfor %}
        </tr>
      </tfoot>
    </table>
  </div>

  <div class="col-lg-12">
    <form action="{% url 'webapp:results' %}" method="POST">
      <input class="btn btn-primary" type="submit" name="plus" value="+">
      {% csrf_token %}
    </form>
    {{ display }}
    <form action="{% url 'webapp:results' %}" method="POST">
      <input class="btn btn-primary" type="submit" name="minus" value="-">
      {% csrf_token %}
    </form>
  </div>

  <a href="{% url 'webapp:landing' %}">Landing Page</a>
  {% endblock body %}